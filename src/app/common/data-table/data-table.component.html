<table [dataSource]="data" mat-table>
    <tr *matHeaderRowDef="columns; " mat-header-row></tr>
    <tr *matRowDef="let row; columns: columns;" mat-row></tr>
    <ng-container *ngFor="let column of columns ; let i = index ">
        <ng-container [matColumnDef]="column">
            <ng-container *ngIf="column == 'selectAll'">
                <th *matHeaderCellDef mat-header-cell>
                    <mat-checkbox (change)=" $event ? masterToggleEvent($event):null"
                                  [checked]="selection.hasValue() && isAllSelectedCheck"
                                  [indeterminate]="selection.hasValue() && !isAllSelectedCheck">
                    </mat-checkbox>
                </th>
            </ng-container>
            <th *matHeaderCellDef mat-header-cell>
                {{headers[i]}}</th>
            <ng-container *ngIf="column == 'action'">
                <td *matCellDef="let element" mat-cell>
                    <div class="hover-effect-menu {{icons}}-icons">
                        <div class="short-arrow">
                            <span class="material-icons">more_horiz</span>
                        </div>
                        <div class="hover-round-effect">
                            <button (click)="viewDetail(element)" *ngIf="viewOn" mat-menu-item
                                    matTooltip="{{'View Details' }}">
                                <span class="material-icons">remove_red_eye </span>
                            </button>
                            <button (click)="editEvent(element)" *ngIf="editOn" mat-menu-item
                                    matTooltip="{{'Edit Details' }}">
                                <span class="material-icons">drive_file_rename_outline</span>
                            </button>
                            <button (click)="deleteEvent(element)" *ngIf="deleteOn" mat-menu-item
                                    matTooltip="{{'Delete Details' }}">
                                <span class="material-icons">delete</span>
                            </button>
                            <button (click)="changePasswordEvent(element)" *ngIf="changePasswordOn" mat-menu-item
                                    matTooltip="{{'Change Password' }}">
                                <span class="material-icons">https</span>
                            </button>
                            <button (click)="deleteEvent(element)" *ngIf="cancelOn" mat-menu-item
                                    matTooltip="{{'Delete' }}">
                                <span class="material-icons">delete</span>
                            </button>
                        </div>
                    </div>
            </ng-container>
            <ng-container *ngIf="column == 'selectAll'">
                <td *matCellDef="let element" mat-cell>
                    <mat-checkbox (change)="$event ? selection.toggle(element) : null" (click)="$event.stopPropagation()" [checked]="selection.isSelected(element)"></mat-checkbox>
                </td>
            </ng-container>

            <ng-container *ngIf="column == 'status' || column == 'isHotLead' ">
                <td *matCellDef="let element"  mat-cell>
                    <mat-slide-toggle  (change)="changeEvent($event,element)" *ngIf="column == 'status'" [checked]="element.status==1" class="button-switch"></mat-slide-toggle>
                    <mat-slide-toggle  (change)="changeEvent($event,element)" *ngIf="column == 'isHotLead'" [checked]="element.isHotLead" class="button-switch"></mat-slide-toggle>
                </td>
            </ng-container>

            <ng-container *ngIf="dateFields && dateFields.includes(column)">
                <td *matCellDef="let element" mat-cell>{{element[column] | date:"dd/MM/YYYY"}}</td>
            </ng-container>

            <ng-container>
                <td *matCellDef="let element" mat-cell>{{element[column]}}</td>
            </ng-container>
        </ng-container>
    </ng-container>
</table>
