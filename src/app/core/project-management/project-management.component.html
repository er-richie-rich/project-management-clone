<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,300,0,0"
      rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,1,0"
      rel="stylesheet"/>
<section class="dashboard-content">
  <div class="table-content box-style m-0 p-0">
    <div class="table-heading box-style-breadcrumb p-4">
	    <a><h3 style="font-weight: 500; cursor: default">Project Management</h3></a>
      <div class="search-form-wrapper">
        <div>
          <!--Category Dropdown-->
          <mat-form-field appearance="outline">
            <mat-select #topp (selectionChange)="filterByLeadStatus(topp.value)" [(ngModel)]="selectedValue"
                        [formControl]="toppings">
              <mat-select-trigger>
                {{toppings.value === 'all' ? 'All' : ''}}
                {{toppings.value === 'in progress' ? 'In Progress' : ''}}
                {{toppings.value === 'completed' ? 'Completed' : ''}}
                {{toppings.value === 'on hold' ? 'On Hold' : ''}}
              </mat-select-trigger>
              <mat-option *ngFor="let topping of toppingList" [value]="topping.value">
                <span style="text-transform: capitalize!important">{{topping.name}}</span>
              </mat-option>
            </mat-select>
          </mat-form-field>
          <!--Category Dropdown-->
        </div>


        <!--Search-->
        <div class="search-form">
          <span class="material-icons">search</span>
          <input #searchString (keydown)="space($event)" (keyup)="applyFilter($event)" placeholder="Search" type="text" >
          <span #clearString (click)="clearSearch($event)" *ngIf="isVisible"
                class="closeIcon material-icons">clear</span>
        </div>
        <!--Search-->
        <!--Add Project Button-->
        <a class="btn-style red-btn" routerLink="/project-management/add-edit-project/0">
          <span class="material-icons">add</span>Add Project
        </a>
        <!--Add Project Button-->
        <!--Menu Button-->
        <button [matMenuTriggerFor]="menu" class="btn-style red-btn menuStyle ms-2">
          <span class="material-icons menuIcon">more_horiz</span>
        </button>

        <mat-menu #menu="matMenu">
          <button (click)="deleteRow()" class="d-flex align-items-center topRightMenu" mat-menu-item>
            <span class="material-icons">delete</span>
            Delete Projects
          </button>
<!--          <button class="d-flex align-items-center topRightMenu" mat-menu-item >-->
<!--&lt;!&ndash;          <button mat-menu-item class="d-flex align-items-center topRightMenu" (click)="importProjectData()">&ndash;&gt;-->
<!--            <span class="material-icons">cloud_download</span>-->
<!--            Import Projects-->
<!--          </button>-->
<!--          <button class="d-flex align-items-center topRightMenu" mat-menu-item >-->
<!--&lt;!&ndash;          <button mat-menu-item class="d-flex align-items-center topRightMenu" (click)="exportAllProject()">&ndash;&gt;-->
<!--            <span class="material-icons">exit_to_app</span>-->
<!--            Export Projects-->
<!--          </button>-->
        </mat-menu>
        <!--<mat-menu #menu="matMenu">
          <button mat-menu-item class="d-flex align-items-center topRightMenu" (click)="deleteRow()">
            <span class="material-icons">delete</span>
            Delete Product
          </button>
        </mat-menu>-->
        <!--Add Lead Button-->
      </div>
    </div>
    <div>

      <app-data-table (delete)="deleteProject($event.projectId)" (edit)="editProject($event.projectId)"
                      (isAllSelected)="isAllSelected()" (masterToggle)="masterToggle($event)"  (view)="viewProject($event.projectId)" [columns]="columns" [data]="projects"  [dateFields]="dateFields" [deleteOn]="true"  [editOn]="true"
                      [headers]="headers" [icons]="'three'" [isAllSelectedCheck]="isAllSelected()" [selection]="selection" [viewOn]="true">
      </app-data-table>


<!--      <table [dataSource]="dataSource" mat-table matSort style="width: 100%" >-->

        <!--Select All Checkbox-->
<!--        <ng-container matColumnDef="selectAll">-->
<!--          <th *matHeaderCellDef mat-header-cell style="width: 2%">-->
<!--            <mat-checkbox (change)="$event ? masterToggle($event) : null"-->
<!--                          [checked]="selection.hasValue() && isAllSelected()"-->
<!--                          [disabled]="isDisabled"-->
<!--                          [indeterminate]="selection.hasValue() && !isAllSelected()">-->
<!--            </mat-checkbox>-->
<!--          </th>-->
<!--          <td *matCellDef="let element;" mat-cell>-->
<!--            <mat-checkbox (change)="$event ? selection.toggle(element) : null"-->
<!--                          (click)="$event.stopPropagation()"-->
<!--                          [checked]="selection.isSelected(element)">-->
<!--            </mat-checkbox>-->
<!--          </td>-->
<!--        </ng-container>-->
        <!--Select All Checkbox-->
        <!--Action Column-->
<!--        <ng-container matColumnDef="action2">-->
<!--          <th *matHeaderCellDef mat-header-cell style="width: 5%">-->
<!--              <div class=" th-header d-flex align-items-center text-left">-->
<!--                Action-->
<!--              </div>-->
<!--          </th>-->
<!--          <td *matCellDef="let element;index as i;" mat-cell style="width: 5%">-->
<!--            <div class="hover-effect-menu">-->
<!--              <span class="material-icons short-arrow">more_horiz</span>-->
<!--              <div class="hover-half-round-three">-->
<!--                <div class="quarter-circle">-->
<!--                  <button-->
<!--                    (click)="editProject(element.projectId)"-->
<!--                    class="material-icons mat-menu-item"-->
<!--                    matTooltip="Edit"-->
<!--                    matTooltipClass='tooltip-color'-->
<!--                    tabindex="0">-->
<!--                    drive_file_rename_outline-->
<!--                  </button>-->
<!--                  <button-->
<!--                    (click)="deleteProject(element.projectId)"-->
<!--                    class="material-icons mat-menu-item"-->
<!--                    matTooltip="Delete"-->
<!--                    matTooltipClass='tooltip-color'-->
<!--                    tabindex="0">-->
<!--                    delete-->
<!--                  </button>-->
<!--                  <button-->
<!--                    (click)="viewProject(element.projectId)"-->
<!--                    class="material-icons mat-menu-item"-->
<!--                    matTooltip="Detail"-->
<!--                    matTooltipClass='tooltip-color'-->
<!--                    tabindex="0">web-->
<!--                  </button>-->
<!--                  <div class="quarter-circle-nested"></div>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </td>-->
<!--          <td style="width: 5%" mat-cell *matCellDef="let element;index as i;">-->
<!--            <div class="hover-effect-menu three-icon">-->
<!--              <span class="material-icons short-arrow">more_horiz</span>-->
<!--              <div class="hover-half-round-three">-->
<!--                <div class="quarter-circle">-->
<!--                  <button (click)="editProduct(element.productId, $event)"-->
<!--                          matTooltip="Edit"-->
<!--                          matTooltipClass='tooltip-color'-->
<!--                          class="material-icons mat-menu-item"-->
<!--                          tabindex="0">-->
<!--                    drive_file_rename_outline-->
<!--                  </button>-->
<!--                  <button (click)="deleteProject(element.productId)"-->
<!--                          matTooltip="Delete"-->
<!--                          class="material-icons mat-menu-item"-->
<!--                          matTooltipClass='tooltip-color'-->
<!--                          tabindex="0">-->
<!--                    delete-->
<!--                  </button>-->
<!--                  <button matTooltip="Detail" [routerLink]="[ 'view-product', element.productId]"-->
<!--                          class="material-icons mat-menu-item"-->
<!--                          matTooltipClass='tooltip-color'-->
<!--                          tabindex="0">web-->
<!--                  </button>-->
<!--                  <div class="quarter-circle-nested"></div>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </td>-->
<!--        </ng-container>-->
<!--        &lt;!&ndash;Action Column&ndash;&gt;-->
<!--        &lt;!&ndash; projectCode Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="projectCode">-->
<!--          <th (click)="sortData('projectCode', sortBy)" *matHeaderCellDef mat-header-cell mat-sort-header style="width: 15%">-->
<!--            <div class="th-header d-flex align-items-center text-left">-->
<!--               Code <span [ngClass]="{'down': sortBy === -1 && sortKey === 'projectCode', 'up': sortBy === 1 && sortKey === 'projectCode'}">-->
<!--                      </span>-->
<!--            </div>-->
<!--          </th>-->
<!--          <td *matCellDef="let element" class="text-capitalize" mat-cell>-->
<!--            {{element.projectCode}}-->
<!--          </td>-->
<!--        </ng-container>-->
<!--        &lt;!&ndash; projectCode Column &ndash;&gt;-->
<!--        &lt;!&ndash; projectName Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="projectName">-->
<!--          <th (click)="sortData('projectName', sortBy)" *matHeaderCellDef mat-header-cell mat-sort-header style="width: 15%">-->
<!--            <div class="th-header d-flex align-items-center text-left">-->
<!--              Project Name <span [ngClass]="{'down': sortBy === -1 && sortKey === 'projectName', 'up': sortBy === 1 && sortKey === 'projectName'}">-->
<!--                      </span>-->
<!--            </div>-->
<!--          </th>-->
<!--          <td *matCellDef="let element" class="text-capitalize" mat-cell>-->
<!--            {{element.projectName}}-->
<!--          </td>-->
<!--        </ng-container>-->
<!--        &lt;!&ndash; projectName Column &ndash;&gt;-->

<!--        &lt;!&ndash; clientName Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="clientName">-->
<!--          <th (click)="sortData('clientName', sortBy)" *matHeaderCellDef mat-header-cell mat-sort-header>-->
<!--            <div class=" th-header d-flex align-items-center text-left">-->
<!--              Client Name <span [ngClass]="{'down': sortBy === -1 && sortKey === 'clientName', 'up': sortBy === 1 && sortKey === 'clientName'}">-->
<!--                      </span>-->
<!--            </div>-->
<!--          </th>-->
<!--          <td *matCellDef="let element" mat-cell style="max-width: 130px"> {{element.clientName }} </td>-->
<!--        </ng-container>-->
<!--        &lt;!&ndash; clientName Column &ndash;&gt;-->

<!--        &lt;!&ndash; managerName Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="manager">-->
<!--          <th (click)="sortData('projectManagerData.fullName', sortBy)" *matHeaderCellDef mat-header-cell mat-sort-header>-->
<!--            <div class=" th-header d-flex align-items-center text-left">-->
<!--              Project Manager <span [ngClass]="{'down': sortBy === -1 && sortKey === 'projectManagerData.fullName', 'up': sortBy === 1 && sortKey === 'projectManagerData.fullName'}">-->
<!--                      </span>-->
<!--            </div>-->
<!--          </th>-->
<!--          <td *matCellDef="let element" mat-cell>-->
<!--            {{ element.projectManagerName }} </td>-->
<!--        </ng-container>-->
<!--        &lt;!&ndash; managerName Column &ndash;&gt;-->

<!--        &lt;!&ndash; startDate Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="startDate">-->
<!--          <th (click)="sortData('startDate', sortBy)" *matHeaderCellDef mat-header-cell mat-sort-header>-->
<!--            <div class="th-header d-flex align-items-center text-left">-->
<!--              Start Date <span [ngClass]="{'down': sortBy === -1 && sortKey === 'startDate', 'up': sortBy === 1 && sortKey === 'startDate'}"></span>-->
<!--            </div>-->
<!--          </th>-->
<!--          <td *matCellDef="let element" mat-cell-->
<!--              style="white-space: nowrap;"> {{element.startDate | date : "dd/MM/YYYY"}} </td>-->
<!--        </ng-container>-->
<!--        &lt;!&ndash; startDate Column &ndash;&gt;-->
<!--        &lt;!&ndash; technology Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="technology">-->
<!--          <th (click)="sortData('technology', sortBy)" *matHeaderCellDef mat-header-cell mat-sort-header>-->
<!--            <div class="th-header d-flex align-items-center text-left">-->
<!--              Technology <span [ngClass]="{'down': sortBy === -1 && sortKey === 'technology', 'up': sortBy === 1 && sortKey === 'technology'}">-->
<!--                      </span>-->
<!--            </div>-->
<!--          </th>-->
<!--          <td *matCellDef="let element" class="text-capitalize" mat-cell> {{element.technology}} </td>-->
<!--        </ng-container>-->
<!--        &lt;!&ndash; technology Column &ndash;&gt;-->

<!--        &lt;!&ndash; projectStatus Column &ndash;&gt;-->
<!--        <ng-container matColumnDef="projectStatus">-->
<!--          <th (click)="sortData('projectStatus', sortBy)" *matHeaderCellDef mat-header-cell mat-sort-header>-->
<!--            <div class="th-header d-flex align-items-center text-left">-->
<!--              Status  <span [ngClass]="{'down': sortBy === -1 && sortKey === 'projectStatus', 'up': sortBy === 1 && sortKey === 'projectStatus'}">-->
<!--                      </span>-->
<!--            </div>-->
<!--          </th>-->
<!--          <td *matCellDef="let element"-->
<!--              [ngClass]="{'completed': element.projectStatus==='completed', 'in-progress': element.projectStatus==='in progress', 'on-hold': element.projectStatus==='on hold'}"-->
<!--              mat-cell-->
<!--              style="white-space: nowrap;">-->
<!--            {{element.projectStatus === 'completed' ? 'Completed' : '' }}-->
<!--            {{element.projectStatus === 'in progress' ? 'In Progress' : '' }}-->
<!--            {{element.projectStatus === 'on hold' ? 'On Hold' : '' }}-->
<!--          </td>-->
<!--        </ng-container>-->
<!--        &lt;!&ndash; projectStatus Column &ndash;&gt;-->
<!--        <tr *matHeaderRowDef="displayedColumns;sticky:true" mat-header-row></tr>-->
<!--&lt;!&ndash;        <tr (click)="selection.toggle(row)" *matRowDef="let row; columns: displayedColumns;" mat-row></tr>&ndash;&gt;-->
<!--        <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>-->
<!--        &lt;!&ndash; Row shown when there is no matching data. &ndash;&gt;-->
<!--        <tr *matNoDataRow class="mat-row">-->
<!--          <td class="mat-cell text-center" colspan="10">Data Not Available</td>-->
<!--        </tr>-->
<!--      </table>-->
    </div>
    <mat-paginator
      (page)="pageChange($event)"
      [hidePageSize]="false"
      [length]="meta"
      [pageIndex]="page"
      [pageSizeOptions]="pageSizeOptions"
      [pageSize]="perPage"
      color="warn"
      showFirstLastButtons
    ></mat-paginator>
  </div>
</section>



<!--
<section class="dashboard-content">
  <div class="table-content box-style m-0 p-0">
    <div class="table-heading">
      <h3 style="font-weight: 700">Project Management</h3>
      <div class="search-form-wrapper">
        &lt;!&ndash; <button class="btn-style red-bordered-btn" >View All</button> &ndash;&gt;
        <div>
          &lt;!&ndash;Lead Status&ndash;&gt;
          <mat-form-field appearance="outline">
            <mat-select [formControl]="toppings" #topp [(ngModel)]="selectedValue"
                        (selectionChange)="filterByLeadStatus(topp.value)">
              <mat-select-trigger>
                {{toppings.value === 'All' ? 'All' : ''}}
                {{toppings.value === 'InProgress' ? 'In Progress' : ''}}
                {{toppings.value === 'Completed' ? 'Completed' : ''}}
                {{toppings.value === 'OnHold' ? 'On Hold' : ''}}
              </mat-select-trigger>
              <mat-option *ngFor="let topping of toppingList" [value]="topping.value">
                <span style="text-transform: capitalize!important">{{topping.name}}</span>
              </mat-option>
            </mat-select>
          </mat-form-field>
          &lt;!&ndash;Lead Status&ndash;&gt;
        </div>
        <div class="search-form">
          <span class="material-icons">search</span>
          <input (keyup)="onKeyUp($event)" placeholder="Search">
        </div>
        <button class="btn-style red-btn" routerLink="/project-management/add-edit-project/0">
          <span class="material-icons">add</span>Add Project
        </button>
        <button class="btn-style red-btn menuStyle ms-2" [matMenuTriggerFor]="menu">
          <span class="material-icons menuIcon">more_horiz</span>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item class="d-flex align-items-center topRightMenu">
            <span class="material-icons">delete</span>
            Delete Projects
          </button>
          <button mat-menu-item class="d-flex align-items-center topRightMenu">
            <span class="material-icons">cloud_download</span>
            Import Projects
          </button>
          <button mat-menu-item class="d-flex align-items-center topRightMenu">
            <span class="material-icons">exit_to_app</span>
            Export Projects
          </button>
        </mat-menu>
      </div>
    </div>
    <div>
      <table (matSortChange)="projectSortChange($event)" [dataSource]="projectDataSource " style="width: 100%"
             mat-table matSort>
        &lt;!&ndash;Select All Checkbox&ndash;&gt;
        <ng-container matColumnDef="selectAll">
          <th style="width: 2%" mat-header-cell *matHeaderCellDef>
            <mat-checkbox (change)="$event ? masterToggle($event) : null"
                          [checked]="selection.hasValue() && isAllSelected()"
                          [indeterminate]="selection.hasValue() && !isAllSelected()">
            </mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let element;index as i;">
            <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(element) : null"
                          [checked]="selection.isSelected(element)">
            </mat-checkbox>
          </td>
        </ng-container>
        &lt;!&ndash;Select All Checkbox&ndash;&gt;
        &lt;!&ndash;Action Column&ndash;&gt;
        <ng-container matColumnDef="action2">
          <th style="width: 5%" mat-header-cell *matHeaderCellDef>Action</th>
          <td style="width: 5%" mat-cell *matCellDef="let element;index as i;">
            <div class="hover-effect-menu">
              <span class="material-icons short-arrow">more_horiz</span>
              <div class="hover-half-round-three">
                <div class="quarter-circle">
                  <button
                    (click)="updateProjet(element.projectId)"
                    matTooltip="Edit"
                    matTooltipClass='tooltip-color'
                    class="material-icons mat-menu-item"
                    tabindex="0">
                    drive_file_rename_outline
                  </button>
                  <button
                    (click)="deleteProject(element.projectId, i, $event)"
                    matTooltip="Delete"
                    class="material-icons mat-menu-item"
                    matTooltipClass='tooltip-color'
                    tabindex="0">
                    delete
                  </button>
                  <button
                    (click)="viewProjet(element.projectId)"
                    matTooltip="Detail"
                    class="material-icons mat-menu-item"
                    matTooltipClass='tooltip-color'
                    tabindex="0">web
                  </button>
                  <div class="quarter-circle-nested"></div>
                </div>
              </div>
            </div>
          </td>
        </ng-container>
        &lt;!&ndash;Action Column&ndash;&gt;
        <ng-container matColumnDef="projectCode">
          <th *matHeaderCellDef mat-header-cell>Code</th>
          <td *matCellDef="let element" mat-cell style="white-space: nowrap;"> {{element.projectCode}}</td>
        </ng-container>
        <ng-container matColumnDef="projectName">
          <th *matHeaderCellDef mat-header-cell> Project Name</th>
          <td *matCellDef="let element" mat-cell style="white-space: nowrap;"> {{element.projectName}}</td>
        </ng-container>
        <ng-container matColumnDef="clientName">
          <th *matHeaderCellDef mat-header-cell> Client Name</th>
          <td *matCellDef="let element" mat-cell style="white-space: nowrap;"> {{element.clientName}} </td>
        </ng-container>
        <ng-container matColumnDef="manager">
          <th *matHeaderCellDef mat-header-cell> Project Manager</th>
          <td *matCellDef="let element" mat-cell style="white-space: nowrap;"> {{element.projectManagerName}} </td>
        </ng-container>
        <ng-container matColumnDef="startDate">
          <th *matHeaderCellDef mat-header-cell> Start Date</th>
          <td *matCellDef="let element" mat-cell
              style="white-space: nowrap;"> {{element.startDate | date : "MM/dd/YYYY" : 'UTC'}} </td>
        </ng-container>
        <ng-container matColumnDef="technology">
          <th *matHeaderCellDef mat-header-cell>Technology</th>
          <td *matCellDef="let element" mat-cell style="white-space: nowrap;"> {{element.technology}}</td>
        </ng-container>
        <ng-container matColumnDef="projectStatus">
          <th *matHeaderCellDef mat-header-cell>Status</th>
          <td *matCellDef="let element"
              [ngClass]="{'completed': element.projectStatus==='Completed', 'in-progress': element.projectStatus==='InProgress', 'on-hold': element.projectStatus==='OnHold'}"
              mat-cell
              style="white-space: nowrap;">
            {{element.projectStatus === 'Completed' ? 'Completed' : '' }}
            {{element.projectStatus === 'InProgress' ? 'In Progress' : '' }}
            {{element.projectStatus === 'OnHold' ? 'On Hold' : '' }}
          </td>
        </ng-container>
        <ng-container matColumnDef="view_more">
          <th *matHeaderCellDef mat-header-cell style="max-width: 120px;width: 120px;min-width: 120px;">
            View Details
          </th>
          <td *matCellDef="let element" mat-cell style="max-width: 120px;width: 120px;min-width: 120px;">
            <button (click)="viewProjet(element._id)" class="btn-style light-red-btn sm-btn">View Details</button>
          </td>
        </ng-container>
        <ng-container matColumnDef="action">
          <th *matHeaderCellDef class="text-center" mat-header-cell mat-sort-header
              style="max-width: 90px;width: 90px;min-width: 90px;"> Actions
          </th>
          <td *matCellDef="let element; let i = index;" class="text-center" mat-cell
              style="max-width: 90px;width: 90px;min-width: 90px;">
            <div class="btn-wrapper">
              <button (click)="updateProjet(element._id)" class="material-icons" mat-menu-item matTooltip="Edit">
                drive_file_rename_outline
              </button>
              <button (click)="deleteProject(element._id, i, $event)" class="material-icons" mat-menu-item
                      matTooltip="Delete">delete
              </button>
            </div>
          </td>
        </ng-container>
        <tr *matHeaderRowDef="projectsColumns;sticky:true" mat-header-row></tr>
        <tr *matRowDef="let element; columns:  projectsColumns;" mat-row></tr>
      </table>
    </div>
    <mat-paginator
      showFirstLastButtons
      color="warn"
    ></mat-paginator>
    <div *ngIf="projectDataSource && projectDataSource.data.length == 0" class="text-center">
      <div class="text-muted font-medium-2 p-2">No Data Available</div>
    </div>
  </div>
</section>
-->

